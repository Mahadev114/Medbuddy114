!function(){"use strict";define(["_routes","utility"],function(e,t){e.register.controller("footerController",["$scope","$rootScope","$stateParams","$state","authService","$http","apiProvider","notify","navConstantsSvc","$window","$location","seoService","localStorageService","$compile","$timeout",function(e,o,a,n,i,r,s,c,d,p,l,u,m,h,g){e.displayCustomBanner=!0,e.notHideContactus=!0,l.search().tab&&("privacypolicy"!=l.search().tab.toLowerCase()&&"privacy-policy"!=l.search().tab.toLowerCase()||(e.activePillP=1)),"app.prominentDisclosure"===n.current.name&&(g(function(){t.hideHeaderFooter(!0)}),e.$on("$destroy",function(){t.hideHeaderFooter(!1)}));var y=i.isUserSignedin();e.accessToken="",e.displayFlowDeck=!1,y&&y.token&&(e.accessToken=y.token),e.displayFooter=!0,y&&y.userDetails&&y.userDetails.pmEntityID&&d.hideFooterEntityId.indexOf(y.userDetails.pmEntityID)>-1&&(e.displayFooter=!1),y&&y.userDetails&&y.userDetails.pmEntityID&&d.showFlowDeck.indexOf(y.userDetails.pmEntityID)>-1&&(e.displayFlowDeck=!0),y&&y.userDetails&&y.userDetails.pmEntityID&&d.hideContactus.indexOf(y.userDetails.pmEntityID)>-1&&(e.notHideContactus=!1);var b=g(function(){var t=angular.element(document.getElementById("footerView"));t.html(i.returnContents("footer.html")),h(t.contents())(e),e.hideHeaderFooterForMobile!==!1&&"false"!==e.hideHeaderFooterForMobile&&t.addClass("background")},0);e.insuranceSelected=!1,i.insuranceSelected=!1,e.hideHeaderFooterForMobile=!!_.isNull(m.get("hideHeaderFooterForMobile"))||m.get("hideHeaderFooterForMobile"),e.appRedirect=function(t,a){a?(e.sendBranchEvent("Clicked_ios",{}),window._MB_Analytics.__push({hj:!0,isCleverTap:!0,isGoogle:!1,fbq:!0,fbqReference:"iosApp",name:"ios_clicked",payload:window._Site_Props.__getEventParameters({consentForm:!0}),branchLog:{name:"ios_clicked",custom_data:{topic:"iOS"}}})):(e.sendBranchEvent("Clicked_Android",{}),window._MB_Analytics.__push({hj:!0,isCleverTap:!0,isGoogle:!1,fbq:!0,fbqReference:"AndroidApp",name:"android_playstore_clicked",payload:window._Site_Props.__getEventParameters({consentForm:!0}),branchLog:{name:"Android_playstore_clicked",custom_data:{topic:"Antroid App"}}}));var n="https://tfgsu.app.link/MBSite?~channel="+window.location.href+"&~feature=MBSite&~campaign="+e.section+"&~tags=MBSite";o.isWebView?window.open(n,"_blank"):window.open(a?"https://itunes.apple.com/us/app/medibuddy/id946666981?ls=1&mt=8":"https://play.google.com/store/apps/details?id=in.medibuddy&hl=en","_blank")},p.scrollTo(0,0),e.userFeedback=function(){i.openLoginPopup("lg","templates/feedbackPopUp.html?"+timeStamp)},e.feebackFunction=function(e){var t={userFeedBack:e.userFeedBack,subject:e.subject,userName:e.userName,phonenumber:e.phonenumber,email:e.email};r.post(s.apiUrl+"UserFeedBack",t,{headers:{"Content-Type":"application/json"}}).then(function(e){c({message:"Thank you! Your feedback is submitted successfully.",position:"center",duration:5e3})})},e.sendBranchEvent=function(o,a){e.user=i.getUserObj();var n={medibuddyUserId:t.getFlatProperty(e.user,"userDetails.userId")+"",pmEntityId:t.getFlatProperty(e.user,"userDetails.pmEntityID")+"",source:p.sessionStorage.getItem("utm_source"),maid:t.getFlatProperty(e.user,"userDetails.maid")+"",platform:"MBWeb",browser_fingerprint_id:window.sessionStorage.getItem("branch_fingerprint")||""},r=Object.assign(n,a);window._MB_Analytics.__push({hj:!0,name:o,branchLog:{name:o,custom_data:r}})},e.insuranceClick=function(){e.checkUser=i.getUserObj(),i.insuranceSelected=!0,e.checkUser?n.go("app.insurancePage",{},{reload:"app.insurancePage"}):e.userSignin()},e.userSignin=function(){i.openLoginPopup("lg","templates/openLoginPopUp.html?"+timeStamp)};var f=e.$on("userLogin",function(t,o){e.checkUser=i.getUserObj(),e.checkUser&&i.insuranceSelected&&e.insuranceClick()});e.$on("$destroy",function(){f(),g.cancel(b)}),e.user={};o.$on("userLogin",function(t,o){e.checkUser=i.getUserObj(),e.checkUser&&(e.user=e.checkUser),e.checkUser&&e.checkUser.userDetails&&e.checkUser.userDetails.pmEntityID&&d.hideFooterEntityId.indexOf(e.checkUser.userDetails.pmEntityID)>-1&&(e.displayFooter=!1)});e.checkUser=i.isUserSignedin(),e.checkUser&&(e.user=e.checkUser),e.insuranceClick=function(){e.checkUser=i.getUserObj(),i.insuranceSelected=!0,e.checkUser&&n.go("app.insurancePage",{},{reload:"app.insurancePage"})},e.showOrder=function(t){i.getUserObj();e.categoryItemTypeId=d.healthCheckId,"claim"===t?n.go("app.claims",{reload:"app.claims"}):n.transitionTo("app.orders",{categoryItemTypeId:e.categoryItemTypeId},{reload:"app.orders"})};o.$on("userLogout",function(t,o){e.user={},e.displayFooter=!0,e.displayFlowDeck=!1,e.notHideContactus=!0});l&&l.$$path&&("/about-healthcheck"===l.$$path?u.getSeoContent({categoryItemTypeId:"4c39245ea0904e5a89f7a86a51a264d1"}):"/Medicine"===l.$$path?u.getSeoContent({categoryItemTypeId:"70d898586fa24f2282a4e5b795e9c291"}):"/about-consultation"===l.$$path?u.getSeoContent({categoryItemTypeId:"ee04f04508254be4304e63e2c1e6b60e"}):"/about-labtest"===l.$$path?u.getSeoContent({categoryItemTypeId:"bb9533c093764a44a48a6ea9dba35b5d"}):"/about-hospitalization"===l.$$path?u.getSeoContent({categoryItemTypeId:"22a23cc9c425484f8a5f37a63fd7b6a3"}):"/about-fitness"===l.$$path?u.getSeoContent({categoryItemTypeId:"32dd5ac1393a4d70221deef10273d6a1"}):"/faq"===l.$$path?u.getSeoContent({categoryItemTypeId:"baaecc849b854aa67845acdb63f6d120"}):"/insuredFaqs"===l.$$path?(n.go("app.faq",{tabs:"insured"},{reload:"app.faq"}),u.getSeoContent({categoryItemTypeId:"6b8681c909574238c505fef80c383050"})):"/testimonials"===l.$$path?u.getSeoContent({categoryItemTypeId:"bb772b48bb864547191489615209f297"}):"/terms"===l.$$path&&u.getSeoContent({categoryItemTypeId:"c0d17c2ce63240a45a91f1be307fb50b"})),o.$watch("seo",function(t,a){t!==a&&(e.userPLevel=o.seo,e.seo=o.seo)},!0)}])})}();